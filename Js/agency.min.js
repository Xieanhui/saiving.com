define(["utilities","modal"],function(d,e){var b=[["\u5317\u4eac","beijing"],["\u6cb3\u5317","beijing"],["\u5929\u6d25","beijing"],["\u5185\u8499\u53e4","ruimong"],["\u65b0\u7586","xinjiang"],["\u7518\u8083","ganshu"],["\u9655\u897f","xianxi"],["\u9752\u6d77","qinghai"],["\u8fbd\u5b81","dongshanxin"],["\u5409\u6797","dongshanxin"],["\u9ed1\u9f99\u6c5f","dongshanxin"],["\u5b81\u590f","ganshu"],["\u6cb3\u5357","henan"],["\u5c71\u897f","shanxi"],["\u5c71\u4e1c","shandong"],["\u56db\u5ddd","sichung"],["\u91cd\u5e86","sichung"],["\u6c5f\u82cf","jiangshu"],["\u6e56\u5317","hubei"],["\u5b89\u5fbd","anhui"],["\u4e0a\u6d77","shanghai"],["\u6d59\u6c5f","jiejiang"],["\u6e56\u5357","hunan"],["\u798f\u5efa","fujian"],["\u6c5f\u897f","jiangxi"],["\u5e7f\u897f","guangxi"],["\u5e7f\u4e1c","guangdong"],["\u8d35\u5dde","guizhou"],["\u4e91\u5357","yunnan"],["\u6d77\u5357","guangdong"],["\u897f\u85cf","qinghai"],["\u53f0\u6e7e","beijing"],["\u9999\u6e2f","beijing"],["\u6fb3\u95e8","beijing"]];function a(h,g){switch(h){case"\u5317\u4eac":case"\u5317\u4EAC\u5E02":g.innerHTML="\u5317\u4eac\u603b\u90e8";break;case"\u6cb3\u5317":case"\u6cb3\u5317\u7701":case"\u5929\u6d25":case"\u5929\u6d25\u5e02":case"\u5185\u8499\u53e4":case"\u5185\u8499\u53e4\u7701":case"\u65b0\u7586":case"\u65b0\u7586\u81ea\u6cbb\u533a":case"\u7518\u8083":case"\u7518\u8083\u7701":case"\u9655\u897f":case"\u9655\u897f\u7701":case"\u9752\u6d77":case"\u9752\u6d77\u7701":case"\u8fbd\u5b81":case"\u8fbd\u5b81\u7701":case"\u5409\u6797":case"\u5409\u6797\u7701":case"\u9ed1\u9f99\u6c5f":case"\u9ed1\u9f99\u6c5f\u7701":case"\u5b81\u590f":case"\u5b81\u590f\u81ea\u6cbb\u533a":case"\u6cb3\u5357":case"\u6cb3\u5357\u7701":case"\u5c71\u897f":case"\u5c71\u897f\u7701":case"\u56db\u5ddd":case"\u56db\u5ddd\u7701":case"\u91cd\u5e86":case"\u91cd\u5e86\u5e02":case"\u6c5f\u82cf":case"\u6c5f\u82cf\u7701":case"\u6e56\u5317":case"\u6e56\u5317\u7701":case"\u5b89\u5fbd":case"\u5b89\u5fbd\u7701":case"\u4e0a\u6d77":case"\u4e0a\u6d77\u5E02":case"\u6d59\u6c5f":case"\u6d59\u6c5f\u7701":case"\u6e56\u5357":case"\u6e56\u5357\u7701":case"\u798f\u5efa":case"\u798f\u5efa\u7701":case"\u6c5f\u897f":case"\u6c5f\u897f\u7701":case"\u5e7f\u897f":case"\u5e7f\u897f\u7701":case"\u5e7f\u4e1c":case"\u5e7f\u4e1c\u7701":case"\u8d35\u5dde":case"\u8d35\u5dde\u7701":case"\u4e91\u5357":case"\u4e91\u5357\u7701":case"\u6d77\u5357":case"\u6d77\u5357\u7701":case"\u897f\u85cf":case"\u897f\u85cf\u81ea\u6cbb\u533a":g.innerHTML=h+"\u529e\u4e8b\u5904";break;case"\u53f0\u6e7e":case"\u53f0\u6e7e\u7701":case"\u9999\u6e2f":case"\u9999\u6e2f\u7279\u522b\u884c\u653f\u533a":case"\u6fb3\u95e8":case"\u6fb3\u95e8\u7279\u522b\u884c\u653f\u533a":g.innerHTML="\u6e2f\u6fb3\u53f0\u53ca\u6d77\u5916\u529e\u4e8b\u5904";break;default:g.innerHTML="\u5317\u4eac\u603b\u90e8";break}}function c(l,g,m){var k,h;for(k=0;k<g.length;k++){if(g[k][0]==l){for(h=0;h<m.length;h++){m[h].setAttribute("href","http://www.saiving.com/about/contact/index.html#"+g[k][1]);d.addHandler(m[h],"click",function(o){var n=o||window.event;if(n.preventDefault){n.preventDefault()}else{n.returnValue=false}var i=n.target||n.srcElement;var j=i.href;var p=j.split("#")[1]==""?"beijing":j.split("#")[1];d.loadXMLDoc("http://www.saiving.com/contactHtml/"+p+".txt",e.oModalContent);e.showModalWindow()})}break}}}function f(){var g=document.getElementById("agency");var j=document.getElementsByName("contact");var h=d.getCookie("agency");if(h){a(h,g);c(h,b,j)}else{try{d.proxyResponse("http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js",function(){if(remote_ip_info.province==null||remote_ip_info.province=="\u4fdd\u7559\u5730\u5740"||remote_ip_info.province==""){a("\u5317\u4eac",g);c("\u5317\u4eac",b,j);d.setCookie("agency","\u5317\u4eac")}else{a(remote_ip_info.province,g);c(remote_ip_info.province,b,j);d.setCookie("agency",remote_ip_info.province)}})}catch(i){try{proxyResponse("http://pv.sohu.com/cityjson",function(){a(returnCitySN.cname,g);c(returnCitySN.cname,b,j);d.setCookie("agency",returnCitySN.cname)})}catch(i){proxyResponse("http://counter.sina.com.cn/ip/",function(){if(ILData[1]=="\u4fdd\u7559\u5730\u5740"||ILData[1]==null||ILData[1]==""){a("\u5317\u4eac",g);c("\u5317\u4eac",b,j);d.setCookie("agency","\u5317\u4eac")}else{a(ILData[1],g);c(ILData[1],b,j);d.setCookie("agency",ILData[1])}})}}}}return{showAgency:f}});